{
  "claudeRecall": {
    "enabled": true,
    "maxLessons": 30,
    "topLessonsToShow": 5,
    "relevanceTopN": 5,
    "remindEvery": 12,
    "promotionThreshold": 50,
    "decayIntervalDays": 7
  },

  "hooks": {
    "SessionStart": [{
      "hooks": [
        { "type": "command", "command": "bash {{HOOKS_DIR}}/inject-hook.sh", "timeout": 5000 },
        { "type": "command", "command": "rm -f ~/.config/claude-recall/.reminder-state", "timeout": 1000 }
      ]
    }],

    "UserPromptSubmit": [{
      "hooks": [
        { "type": "command", "command": "bash {{HOOKS_DIR}}/capture-hook.sh", "timeout": 5000 },
        { "type": "command", "command": "bash {{HOOKS_DIR}}/smart-inject-hook.sh", "timeout": 15000 },
        { "type": "command", "command": "~/.config/claude-recall/lesson-reminder-hook.sh", "timeout": 2000 }
      ]
    }],

    "Stop": [{
      "hooks": [
        { "type": "command", "command": "bash {{HOOKS_DIR}}/stop-hook.sh", "timeout": 5000 },
        { "type": "command", "command": "bash {{HOOKS_DIR}}/session-end-hook.sh", "timeout": 30000 }
      ]
    }],

    "PreCompact": [{
      "hooks": [
        { "type": "command", "command": "bash {{HOOKS_DIR}}/precompact-hook.sh", "timeout": 45000 }
      ]
    }],

    "PostToolUse": [
      {
        "matcher": "ExitPlanMode",
        "hooks": [
          { "type": "command", "command": "bash {{HOOKS_DIR}}/post-exitplanmode-hook.sh", "timeout": 5000 }
        ]
      },
      {
        "matcher": "TodoWrite",
        "hooks": [
          { "type": "command", "command": "bash {{HOOKS_DIR}}/post-todowrite-hook.sh", "timeout": 5000 }
        ]
      }
    ]
  }
}
